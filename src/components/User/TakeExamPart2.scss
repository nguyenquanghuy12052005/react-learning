@import '~bootstrap/scss/bootstrap';

// --- VARIABLES ---
$bg-color: #f8f9fc;
$card-bg: #ffffff;
$primary-color: #4e73df;
$success-color: #1cc88a; // Xanh lá chuẩn theme
$text-dark: #2e384d;
$text-muted: #858796;

.take-exam-part2 {
  background-color: $bg-color;
  min-height: 100vh;
  font-family: 'Segoe UI', sans-serif;
  padding-bottom: 80px;

  // 1. Header Styles
  .exam-header {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #e3e6f0;
    z-index: 1020;

    .timer-box {
      background-color: #e8f0fe;
      color: $primary-color;
      font-weight: 700;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-variant-numeric: tabular-nums;
      display: flex; align-items: center;
      
      &.danger {
          background-color: #ffebee;
          color: #e74a3b;
          animation: pulse 1s infinite;
      }
    }

    .btn-submit {
        background-color: $primary-color;
        border: none;
        border-radius: 50px;
        padding: 0.5rem 1.5rem;
        box-shadow: 0 4px 6px rgba(78, 115, 223, 0.3);
        transition: transform 0.2s;
        &:hover { transform: translateY(-2px); }
    }
  }

  // 2. Audio Card
  .audio-card {
      background: white;
      border-radius: 12px;
      
      // Nếu muốn thanh audio dính lên trên khi cuộn (tùy chọn)
      &.sticky-audio {
        position: sticky;
        top: 70px; // Dưới header một chút
        z-index: 900;
      }

      .audio-icon-box {
          width: 45px; height: 45px;
          display: flex; align-items: center; justify-content: center;
          font-size: 1.1rem;
      }
      .custom-audio { height: 36px; }
  }

  // 3. Question Grid Cards
  .question-card {
    background: $card-bg;
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    
    // Hiệu ứng hover cho thẻ câu hỏi
    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.08) !important;
    }

    // Trạng thái đã làm xong
    &.answered {
      border: 1px solid rgba($success-color, 0.4) !important;
      background-color: rgba($success-color, 0.03);
    }

    .question-badge {
        background-color: #f1f3f5;
        color: $text-dark;
        font-weight: 700;
        font-size: 0.85rem;
        padding: 4px 10px;
        border-radius: 6px;
    }

    .animate-check { animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

    // --- BUTTON STYLES (TRÒN) ---
    .option-btn {
        width: 55px;
        height: 55px;
        border-radius: 50%;
        font-size: 1.2rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        transition: all 0.2s ease;
        
        // --- 1. Mặc định (Trắng viền xám) ---
        background-color: #fff !important;
        border: 2px solid #eaecf4 !important;
        color: #858796 !important;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);

        &:hover {
            background-color: #f8f9fc !important;
            border-color: $primary-color !important;
            color: $primary-color !important;
            transform: scale(1.05);
        }

        &:focus { box-shadow: none !important; }

        // --- 2. Đã chọn (Xanh lá - Success) ---
        &.selected {
            background-color: $success-color !important;
            border-color: $success-color !important;
            color: #ffffff !important;
            box-shadow: 0 4px 10px rgba(28, 200, 138, 0.4) !important;
            transform: scale(1.1);
        }
    }
  }
}

// Animations
@keyframes popIn {
    0% { transform: scale(0); opacity: 0; }
    80% { transform: scale(1.2); }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}