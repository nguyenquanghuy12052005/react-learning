@import '~bootstrap/scss/bootstrap';

// --- VARIABLES ---
$bg-color: #f3f6f9;
$card-bg: #ffffff;
$primary-color: #4e73df;
$success-color: #1cc88a; // Xanh lá
$text-dark: #2e384d;
$text-muted: #858796;
$shadow-sm: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);

.take-exam-part2 {
  background-color: $bg-color;
  min-height: 100vh;
  font-family: 'Segoe UI', sans-serif;
  padding-bottom: 50px;

  // Header Styles
  .exam-header {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid #e3e6f0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    z-index: 100;

    .timer-box {
      background-color: #e8f0fe;
      color: $primary-color;
      font-weight: 700;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-variant-numeric: tabular-nums;
      &.danger {
          background-color: #ffebee;
          color: #e74a3b;
          animation: pulse 1s infinite;
      }
    }

    .btn-submit {
        background-color: $primary-color;
        border: none;
        border-radius: 50px;
        padding: 0.5rem 2rem;
        font-weight: 600;
        box-shadow: 0 4px 6px rgba(78, 115, 223, 0.3);
        &:hover { transform: translateY(-1px); }
    }
  }

  // Audio Card
  .audio-card {
      box-shadow: $shadow-sm;
      border-radius: 15px;
      .audio-icon-box {
          background-color: #eaecf4;
          width: 50px; height: 50px;
          border-radius: 50%;
          display: flex; align-items: center; justify-content: center;
          color: $primary-color; font-size: 1.2rem;
      }
      .custom-audio { height: 40px; }
  }

  // Question Card
  .question-card {
    background: $card-bg;
    border-radius: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }

    &.answered {
      border: 1px solid rgba($success-color, 0.3) !important;
      background-color: rgba($success-color, 0.02);
    }

    .question-badge {
        background-color: #f8f9fc;
        color: $text-muted;
        font-weight: 600;
        padding: 0.3rem 0.8rem;
        border-radius: 8px;
        font-size: 0.85rem;
    }

    .animate-check { animation: popIn 0.3s ease-out; }

    // --- PHẦN QUAN TRỌNG: STYLE NÚT TRÒN ---
    .option-btn {
        width: 60px;
        height: 60px;
        border-radius: 50%; // Tròn
        font-size: 1.2rem;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
        
        // --- 1. TRẠNG THÁI MẶC ĐỊNH (CHƯA CHỌN) ---
        // Bắt buộc màu trắng, chữ xám
        background-color: #ffffff !important; 
        border: 2px solid #eaecf4 !important; 
        color: #858796 !important;
        box-shadow: 0 3px 6px rgba(0,0,0,0.05);

        // Hover vào
        &:hover {
            background-color: #f8f9fc !important;
            border-color: $primary-color !important;
            color: $primary-color !important;
            transform: scale(1.05);
        }

        // Tắt outline xấu khi click
        &:focus, &:active {
            box-shadow: none !important;
            outline: none !important;
        }

        // --- 2. TRẠNG THÁI ĐÃ CHỌN (XANH LÁ) ---
        &.selected {
            background-color: $success-color !important; // Nền xanh lá
            border-color: $success-color !important;     // Viền xanh lá
            color: #ffffff !important;                   // Chữ trắng
            box-shadow: 0 4px 12px rgba(28, 200, 138, 0.4); // Phát sáng nhẹ
            transform: scale(1.1);
        }
    }
  }
}

// Keyframes
@keyframes popIn {
    0% { transform: scale(0); opacity: 0; }
    80% { transform: scale(1.2); }
    100% { transform: scale(1); opacity: 1; }
}
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}