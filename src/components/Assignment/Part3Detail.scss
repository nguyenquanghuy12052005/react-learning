$blue: #0096fa;
$bg-color: #f4f6f8;

.part3-detail-page {
  // 1. QUAN TRỌNG: Thiết lập chiều cao bằng đúng màn hình
  height: 100vh; 
  display: flex;
  flex-direction: column; // Xếp dọc: Header -> Body -> Footer
  background-color: $bg-color;
  font-family: 'Segoe UI', sans-serif;
  overflow: hidden; // Ẩn thanh cuộn của trình duyệt (để chỉ cuộn phần giữa)

  // --- HEADER ---
  .quiz-header {
    flex-shrink: 0; // Không cho Header co lại
    height: 60px; 
    background: white;
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 20px; 
    box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
    z-index: 10;
    
    // ... (Giữ nguyên các style con bên trong header)
    .header-left { display: flex; align-items: center; gap: 15px; font-weight: 600; .back-icon { color: #333; }}
    .header-right { 
        display: flex; align-items: center; gap: 20px;
        .timer { color: #ff4d4f; font-weight: bold; display: flex; align-items: center; gap: 5px; }
        .sidebar-toggle { color: #551fff; cursor: pointer;}
        .icon-btn { cursor: pointer; color: #555; font-size: 1.1rem;}
    }
  }

  // --- BODY (PHẦN CẦN THANH GẠT KÉO XUỐNG) ---
  .quiz-body {
    flex: 1; // Chiếm toàn bộ khoảng trống còn lại
    overflow-y: auto; // ✅ ĐÂY LÀ LỆNH TẠO THANH GẠT (SCROLL)
    padding: 20px;
    display: flex; 
    justify-content: center;

    .questions-container {
      width: 100%;
      max-width: 900px; 
      display: flex; 
      flex-direction: column; 
      gap: 20px; 
      
      // Quan trọng: Padding dưới để khi kéo hết cỡ không bị sát đáy
      padding-bottom: 20px; 

      .question-block {
        background: white; border-radius: 8px; 
        box-shadow: 0 2px 6px rgba(0,0,0,0.05); 
        
        .question-header {
            background: $blue; color: white; padding: 12px 20px;
            font-weight: 600; display: flex; justify-content: space-between; align-items: center;
        }

        .options-list {
            padding: 20px; display: flex; flex-direction: column; gap: 12px;

            .option-item {
                display: flex; align-items: center; gap: 15px;
                padding: 10px 15px; border-radius: 6px; cursor: pointer;
                border: 1px solid transparent; transition: 0.2s;
                &:hover { background-color: #f8faff; }
                
                &.selected {
                    background-color: rgba($blue, 0.08); 
                    border-color: rgba($blue, 0.3);
                    .radio-circle { border-color: $blue; .dot { background: $blue; } }
                    .opt-text { color: $blue; font-weight: 500; }
                }

                .radio-circle {
                    width: 20px; height: 20px; border: 2px solid #ccc; border-radius: 50%;
                    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
                    .dot { width: 10px; height: 10px; background: currentColor; border-radius: 50%; }
                }
                .opt-text { font-size: 1rem; color: #333; }
            }
        }
      }
    }
    
    // Sidebar
    .column-sidebar {
        width: 300px; background:white; border-radius:8px; margin-left: 20px; height: fit-content;
    }
  }

  // --- FOOTER ---
  .quiz-footer {
    flex-shrink: 0; // Footer nằm im dưới cùng
    background: white; 
    border-top: 1px solid #eee; 
    padding: 10px 30px; 
    z-index: 20;

    .audio-row-top {
      display: flex; align-items: center; gap: 20px; margin-bottom: 5px;
      .audio-controls { display: flex; gap: 15px; .btn-play { background:none; border:none; font-size:1.2rem; cursor: pointer; width: 30px;}}
      .audio-progress { flex: 1; display: flex; align-items: center; gap: 10px; input { flex:1; height:4px; accent-color: $blue; cursor: pointer;}}
    }
    .audio-row-bottom {
        display: flex; justify-content: space-between; padding-top: 5px; border-top: 1px solid #f9f9f9;
        .nav-arrow { background: none; border:none; cursor: pointer; font-size: 1.1rem; }
        .center-icons { display: flex; gap: 30px; color: #666; cursor: pointer;}
    }
  }

  // Mobile
  @media (max-width: 768px) {
      .quiz-body { flex-direction: column; .column-sidebar { display: none; } }
  }
}